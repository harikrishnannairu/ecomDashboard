<div class="bg-white dark:bg-gray-800 shadow rounded-lg p-6">
  <h2 class="text-xl font-bold mb-4">My Orders</h2>

  <div *ngIf="loading" class="text-center py-6">
    <p>Loading your orders...</p>
  </div>

  <div *ngIf="!loading && orders.length === 0" class="text-center py-6">
    <p>You donâ€™t have any orders yet.</p>
  </div>

  <table *ngIf="orders.length > 0" class="w-full text-left border-collapse">
    <thead>
      <tr class="bg-gray-100 dark:bg-gray-700">
        <th class="p-3">Order ID</th>
        <th class="p-3">Total</th>
        <th class="p-3">Status</th>
        <th class="p-3">Created</th>
        <th class="p-3">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let order of orders" class="border-b dark:border-gray-600">
        <td class="p-3">#{{ order.id }}</td>
        <td class="p-3">{{ order.totalAmount | currency }}</td>
        <td class="p-3">
          <span
            class="px-2 py-1 rounded text-xs font-semibold"
            [ngClass]="{
              'bg-yellow-200 text-yellow-800': order.status === 'PENDING',
              'bg-blue-200 text-blue-800': order.status === 'SHIPPED',
              'bg-green-200 text-green-800': order.status === 'DELIVERED',
              'bg-red-200 text-red-800': order.status === 'CANCELLED'
            }"
          >
            {{ order.status }}
          </span>
        </td>
        <td class="p-3">{{ order.createdAt | date: 'short' }}</td>
        <td class="p-3">
          <button
            class="bg-blue-500 text-white px-3 py-1 rounded"
            (click)="openOrder(order)"
          >
            View
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<app-order-details-modal
  *ngIf="selectedOrder"
  [order]="selectedOrder"
  [cancelling]="cancelling"
  [viewMyOrders]="true"
  (closed)="closeOrder()"
  (cancelOrder)="cancelOrder($event)"
>
  <!-- <div class="mt-4 flex justify-end gap-2">
    <button
      *ngIf="selectedOrder?.status === 'PENDING'"
      (click)="cancelOrder(selectedOrder.id)"
      class="bg-red-500 text-white px-4 py-2 rounded"
      [disabled]="cancelling"
    >
      {{ cancelling ? 'Cancelling...' : 'Cancel Order' }}
    </button>
   
  </div> -->
</app-order-details-modal>
